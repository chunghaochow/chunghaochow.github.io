<!DOCTYPE html><html lang="zh-CN"><head><meta name="generator" content="Hexo 3.8.0"><meta http-equiv="content-type" content="text/html; charset=utf-8"><meta content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0" name="viewport"><meta content="yes" name="apple-mobile-web-app-capable"><meta content="black-translucent" name="apple-mobile-web-app-status-bar-style"><meta content="telephone=no" name="format-detection"><meta name="description" content="Hao's blog."><title>JavaScript笔记 | Hao Blog</title><link rel="stylesheet" type="text/css" href="/css/style.css?v=0.0.0"><link rel="stylesheet" type="text/css" href="//lib.baomitu.com/normalize/8.0.1/normalize.min.css"><link rel="stylesheet" type="text/css" href="//lib.baomitu.com/pure/1.0.0/pure-min.css"><link rel="stylesheet" type="text/css" href="//lib.baomitu.com/pure/1.0.0/grids-responsive-min.css"><link rel="stylesheet" href="//lib.baomitu.com/font-awesome/4.7.0/css/font-awesome.min.css"><script type="text/javascript" src="//lib.baomitu.com/jquery/3.3.1/jquery.min.js"></script><link rel="icon" mask="" sizes="any" href="/favicon.ico"><link rel="Shortcut Icon" type="image/x-icon" href="/favicon.ico"><link rel="apple-touch-icon" href="/apple-touch-icon.png"><link rel="apple-touch-icon-precomposed" href="/apple-touch-icon.png"></head><body><div class="body_container"><div id="header"><div class="site-name"><h1 class="hidden">JavaScript笔记</h1><a id="logo" href="/.">Hao Blog</a><p class="description"></p></div><div id="nav-menu"><a class="current" href="/."><i class="fa fa-home"> 首页</i></a><a href="/archives/"><i class="fa fa-archive"> 归档</i></a><a href="/about/"><i class="fa fa-user"> 关于</i></a></div></div><div class="pure-g" id="layout"><div class="pure-u-1 pure-u-md-3-4"><div class="content_container"><div class="post"><h1 class="post-title">JavaScript笔记</h1><div class="post-meta">Jul 19, 2019<span> | </span><span class="category"><a href="/categories/JavaScript/">JavaScript</a></span><script src="https://busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js" async></script><span id="busuanzi_container_page_pv"> | <span id="busuanzi_value_page_pv"></span><span> 阅读</span></span></div><a class="disqus-comment-count" href="/2019/07/19/JavaScript笔记/#vcomment"><span class="valine-comment-count" data-xid="/2019/07/19/JavaScript笔记/"></span><span> 条评论</span></a><div class="post-content"><h2 id="JavaScript基础"><a href="#JavaScript基础" class="headerlink" title="JavaScript基础"></a>JavaScript基础</h2><ul>
<li><a href="https://yuchengkai.cn/docs/frontend/#%E5%86%85%E7%BD%AE%E7%B1%BB%E5%9E%8B" target="_blank" rel="noopener">前端进阶之道</a></li>
<li><a href="https://github.com/YvetteLau/Blog" target="_blank" rel="noopener">YvetteLau/Blog</a></li>
<li><a href="https://www.cnblogs.com/youhong/p/6209054.html" target="_blank" rel="noopener">Object.prototype.toString.call</a></li>
<li><a href="https://github.com/KieSun/Dream/issues/2" target="_blank" rel="noopener">原型难点</a></li>
<li>Js 有7种内置类型，7种内置类型又分两大类型，基本类型和对象。基本类型有6种：null, undefined, boolean, string, number, symbol</li>
<li>typeof null === ‘object’ 是一个一直流传下来的bug。</li>
<li>对象的浅拷贝可以用Object.assign方法，或者展开运算符，浅拷贝只解决了对象第一层的问题，接下来嵌套的对象还是享有相同的引用。</li>
<li>深拷贝方法JSON.parse(JSON.stringify({}))可以解决对象多层属性的问题，缺点是：1.会忽略undefined、symbol、函数。2.不能解决循环引用的对象</li>
</ul>
<h2 id="HTTP"><a href="#HTTP" class="headerlink" title="HTTP"></a>HTTP</h2><h3 id="HTTP状态码、-HTTP常用状态码"><a href="#HTTP状态码、-HTTP常用状态码" class="headerlink" title="HTTP状态码、 HTTP常用状态码"></a><a href="https://zh.wikipedia.org/wiki/HTTP%E7%8A%B6%E6%80%81%E7%A0%81" target="_blank" rel="noopener">HTTP状态码</a>、 <a href="https://zhuanlan.zhihu.com/p/65887537" target="_blank" rel="noopener">HTTP常用状态码</a></h3><p><strong>状态码分类</strong><br>状态码共分为五类，以1-5数字开头进行标识，如下：</p>
<ul>
<li>1xxs - 信息性：服务器正在处理请求。</li>
<li>2xxs - 成功信息：请求已经完成，服务器向浏览器提供了预期的响应。</li>
<li>3xxs –重定向：你的请求被重定向到了其他地方。服务器收到了请求，但是有某种重定向。</li>
<li>4xxs – 客户端错误：客户端发生错误，导致服务器无法处理请求。</li>
<li>5xxs – 服务端错误：客户端发出了有效的请求，但是服务器未能正确处理请求。</li>
</ul>
<h2 id="TypeScript"><a href="#TypeScript" class="headerlink" title="TypeScript"></a>TypeScript</h2><h3 id="博文"><a href="#博文" class="headerlink" title="博文"></a>博文</h3><p>[typescript中的map数据存储]<a href="https://juejin.cn/post/6844903983601942542" target="_blank" rel="noopener">https://juejin.cn/post/6844903983601942542</a><br>[类型声明书写踩坑全解析]<a href="https://blog.csdn.net/WU5229485/article/details/106710954/" target="_blank" rel="noopener">https://blog.csdn.net/WU5229485/article/details/106710954/</a></p>
<h2 id="ES"><a href="#ES" class="headerlink" title="ES"></a>ES</h2><h3 id="模块引用用法"><a href="#模块引用用法" class="headerlink" title="模块引用用法"></a><a href="https://juejin.im/post/597ec55a51882556a234fcef" target="_blank" rel="noopener">模块引用用法</a></h3><p>require: node 和 es6 都支持的引入<br>export / import : 只有es6 支持的导出引入<br>module.exports / exports: 只有 node 支持的导出</p>
<h3 id="package-lock-json的作用"><a href="#package-lock-json的作用" class="headerlink" title="package-lock.json的作用"></a><a href="https://www.cnblogs.com/cangqinglang/p/8336754.html" target="_blank" rel="noopener">package-lock.json的作用</a></h3><p>根据官方文档，这个package-lock.json 是在 <code>npm install</code>时候生成一份文件，用以记录当前状态下实际安装的各个npm package的具体来源和版本号。</p>
<p>它有什么用呢？因为npm是一个用于管理package之间依赖关系的管理器，它允许开发者在pacakge.json中间标出自己项目对npm各库包的依赖。你可以选择以如下方式来标明自己所需要库包的版本</p>
<p>这里举个例子：</p>
<p>“dependencies”: {<br> “@types/node”: “^8.0.33”,<br>},</p>
<p>这里面的 向上标号^是定义了向后（新）兼容依赖，指如果 types/node的版本是超过8.0.33，并在大版本号（8）上相同，就允许下载最新版本的 types/node库包，例如实际上可能运行npm install时候下载的具体版本是8.0.35。波浪号</p>
<p>大多数情况这种向新兼容依赖下载最新库包的时候都没有问题，可是因为npm是开源世界，各库包的版本语义可能并不相同，有的库包开发者并不遵守严格这一原则：相同大版本号的同一个库包，其接口符合兼容要求。这时候用户就很头疼了：在完全相同的一个nodejs的代码库，在不同时间或者不同npm下载源之下，下到的各依赖库包版本可能有所不同，因此其依赖库包行为特征也不同有时候甚至完全不兼容。</p>
<p>因此npm最新的版本就开始提供自动生成package-lock.json功能，为的是让开发者知道只要你保存了源文件，到一个新的机器上、或者新的下载源，只要按照这个package-lock.json所标示的具体版本下载依赖库包，就能确保所有库包与你上次安装的完全一样。</p>
<h2 id="ES7"><a href="#ES7" class="headerlink" title="ES7"></a>ES7</h2><h3 id="generator、promise实现async"><a href="#generator、promise实现async" class="headerlink" title="generator、promise实现async"></a>generator、promise实现async</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">'use strict'</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">async</span>(<span class="function"><span class="keyword">function</span>* (<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="keyword">try</span> &#123;</span><br><span class="line">    <span class="keyword">const</span> task0 = <span class="keyword">yield</span> getJson(<span class="string">'make a million'</span>, <span class="number">500</span>)</span><br><span class="line">    <span class="built_in">console</span>.log(task0.msg)</span><br><span class="line">    <span class="keyword">const</span> task1 = <span class="keyword">yield</span> getJson(<span class="string">'buy a house'</span>, <span class="number">1000</span>)</span><br><span class="line">    <span class="built_in">console</span>.log(task1.msg)</span><br><span class="line">    setTimeout(<span class="function"><span class="params">()</span> =&gt;</span> &#123;</span><br><span class="line">      <span class="built_in">console</span>.log(<span class="string">'Life: Something trying to take you down...'</span>)</span><br><span class="line">    &#125;, <span class="number">1000</span>)</span><br><span class="line">    setTimeout(<span class="function"><span class="params">()</span> =&gt;</span> &#123;</span><br><span class="line">      <span class="built_in">console</span>.log(<span class="string">'...'</span>)</span><br><span class="line">    &#125;, <span class="number">2000</span>)</span><br><span class="line">    <span class="keyword">yield</span> getJson(<span class="string">'defeated'</span>, <span class="number">3000</span>)</span><br><span class="line">  &#125; <span class="keyword">catch</span> (error) &#123;</span><br><span class="line">    <span class="built_in">console</span>.log(error.msg)</span><br><span class="line">  &#125;</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">getJson</span>(<span class="params">taskName, ms</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">return</span> <span class="keyword">new</span> <span class="built_in">Promise</span>(<span class="function">(<span class="params">resolve, reject</span>) =&gt;</span> &#123;</span><br><span class="line">    <span class="keyword">if</span> (taskName === <span class="string">'defeated'</span>) &#123;</span><br><span class="line">      setTimeout(reject, ms, &#123;</span><br><span class="line">        success: <span class="literal">false</span>,</span><br><span class="line">        msg: <span class="string">`Me: I won't be defeated.`</span></span><br><span class="line">      &#125;)</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">      setTimeout(resolve, ms, &#123;</span><br><span class="line">        success: <span class="literal">true</span>,</span><br><span class="line">        msg: <span class="string">`<span class="subst">$&#123;taskName&#125;</span> - done`</span></span><br><span class="line">      &#125;)</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">async</span>(<span class="params">generator</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">const</span> iterator = generator()</span><br><span class="line">  <span class="function"><span class="keyword">function</span> <span class="title">handle</span>(<span class="params">iteratorResult</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (iteratorResult.done) <span class="keyword">return</span></span><br><span class="line">    <span class="keyword">const</span> iteratorValue = iteratorResult.value</span><br><span class="line">    <span class="keyword">if</span> (iteratorValue <span class="keyword">instanceof</span> <span class="built_in">Promise</span>) &#123;</span><br><span class="line">      iteratorValue.then(<span class="function"><span class="params">res</span> =&gt;</span> &#123;</span><br><span class="line">        handle(iterator.next(res))</span><br><span class="line">      &#125;).catch(<span class="function"><span class="params">err</span> =&gt;</span> &#123;</span><br><span class="line">        iterator.throw(err)</span><br><span class="line">      &#125;)</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">try</span> &#123;</span><br><span class="line">    handle(iterator.next())    </span><br><span class="line">  &#125; <span class="keyword">catch</span> (error) &#123;</span><br><span class="line">    iterator.throw(err)</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="async、await用法"><a href="#async、await用法" class="headerlink" title="async、await用法"></a><a href="http://es6.ruanyifeng.com/#docs/async" target="_blank" rel="noopener">async、await用法</a></h3><ul>
<li>await 关键字必须在async函数中使用。以下例子展示了一个基本的异步请求的用法。</li>
<li><a href="https://zhuanlan.zhihu.com/p/52957258" target="_blank" rel="noopener">async await 代码风格指南</a></li>
<li><a href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Statements/async_function" target="_blank" rel="noopener">MDN</a></li>
</ul>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> axios = &#123;</span><br><span class="line">  get: <span class="function">(<span class="params">url</span>) =&gt;</span> &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">new</span> <span class="built_in">Promise</span>(<span class="function">(<span class="params">resolve, reject</span>) =&gt;</span> &#123;</span><br><span class="line">      setTimeout(<span class="function"><span class="params">()</span> =&gt;</span> &#123;</span><br><span class="line">        <span class="keyword">if</span> (url) &#123;</span><br><span class="line">          resolve(&#123;</span><br><span class="line">            success: <span class="literal">true</span>,</span><br><span class="line">            msg: <span class="string">'You are cool'</span>,</span><br><span class="line">          &#125;);</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">          reject(&#123;</span><br><span class="line">            success: <span class="literal">false</span>,</span><br><span class="line">            msg: <span class="string">'can not find the url'</span>,</span><br><span class="line">          &#125;);</span><br><span class="line">        &#125;</span><br><span class="line">      &#125;, <span class="number">100</span>);</span><br><span class="line">    &#125;);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">async</span> <span class="function"><span class="keyword">function</span> <span class="title">foo_api</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="keyword">try</span> &#123;</span><br><span class="line">    <span class="keyword">const</span> res = <span class="keyword">await</span> axios.get(<span class="number">1</span>);</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">'success: '</span>, res);</span><br><span class="line">  &#125; <span class="keyword">catch</span> (error) &#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">'error: '</span>, error);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">foo_api();</span><br></pre></td></tr></table></figure></div><div class="tags"><a href="/tags/ES6-Promise-module-HTTP/">ES6 Promise module HTTP</a></div><div class="post-nav"><a class="next" href="/2019/07/12/常用正则表达式/">常用正则表达式</a></div><div id="vcomment"></div><script src="//cdn1.lncld.net/static/js/3.0.4/av-min.js"></script><script src="//unpkg.com/valine@latest/dist/Valine.min.js"></script><script>var notify = 'false' == true ? true : false;
var verify = 'false' == true ? true : false;
var GUEST_INFO = ['nick','mail','link'];
var guest_info = 'nick,mail,link'.split(',').filter(function(item){
  return GUEST_INFO.indexOf(item) > -1
});
guest_info = guest_info.length == 0 ? GUEST_INFO :guest_info;
window.valine = new Valine({
  el:'#vcomment',
  notify:notify,
  verify:verify,
  appId:'C7YGzDHTbvLUyaIbg0or2hoY-gzGzoHsz',
  appKey:'b9umpe2cVlhi8bC9lCE7wTwR',
  placeholder:'',
  avatar:'retro',
  guest_info:guest_info,
  pageSize:'10'
})</script></div></div></div><div class="pure-u-1-4 hidden_mid_and_down"><div id="sidebar"><div class="widget"><form class="search-form" action="//www.google.com/search" method="get" accept-charset="utf-8" target="_blank"><input type="text" name="q" maxlength="20" placeholder="Search"><input type="hidden" name="sitesearch" value="https://chunghaochow.github.io"></form></div><div class="widget"><div class="widget-title"><i class="fa fa-folder-o"> 分类</i></div><ul class="category-list"><li class="category-list-item"><a class="category-list-link" href="/categories/Git/">Git</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/JavaScript/">JavaScript</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/RegExp/">RegExp</a></li></ul></div><div class="widget"><div class="widget-title"><i class="fa fa-star-o"> 标签</i></div><div class="tagcloud"><a href="/tags/Hexo/" style="font-size: 15px;">Hexo</a> <a href="/tags/Git/" style="font-size: 15px;">Git</a> <a href="/tags/RegExp/" style="font-size: 15px;">RegExp</a> <a href="/tags/ES6-Promise-module-HTTP/" style="font-size: 15px;">ES6 Promise module HTTP</a></div></div></div></div><div class="pure-u-1 pure-u-md-3-4"><div id="footer">Copyright © 2021 <a href="/." rel="nofollow">Hao Blog.</a> Powered by<a rel="nofollow" target="_blank" href="https://hexo.io"> Hexo.</a><a rel="nofollow" target="_blank" href="https://github.com/tufu9441/maupassant-hexo"> Theme</a> by<a rel="nofollow" target="_blank" href="https://github.com/pagecho"> Cho.</a></div></div></div><a class="show" id="rocket" href="#top"></a><script type="text/javascript" src="/js/totop.js?v=0.0.0" async></script><script type="text/javascript" src="//lib.baomitu.com/fancybox/3.5.2/jquery.fancybox.min.js" async></script><script type="text/javascript" src="/js/fancybox.js?v=0.0.0" async></script><link rel="stylesheet" type="text/css" href="//lib.baomitu.com/fancybox/3.5.2/jquery.fancybox.min.css"><script type="text/javascript" src="/js/codeblock-resizer.js?v=0.0.0"></script><script type="text/javascript" src="/js/smartresize.js?v=0.0.0"></script></div></body></html>